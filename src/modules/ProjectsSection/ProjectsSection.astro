---
import Button from "@components/Button/Button.astro";
import Heading from "@components/Heading/Heading.astro";
import Container from "@components/Container/Container.astro";
import SectionFull from "@components/Section/SectionFull/SectionFull.astro";
import { ProjectsSlider } from "./ProjectsSlider";
import image2 from "../HomePage/assets/interior2.webp";
import type { ProjectsSliderItemProps } from "./ProjectsSliderItem";

interface Props {
  title: string;
  linkTitle?: string;
  linkHref?: string;
  class?: string;
}

const {
  class: className,
  title,
  linkHref,
  linkTitle = "View all",
} = Astro.props;

// TODO: replace with content collection items
const fakeItems: ProjectsSliderItemProps[] = [...Array(15).keys()].map(
  (item) => ({
    img: image2.src,
    alt: "Alt text",
    title: `Ocean residences ${item + 1}`,
    date: "2023",
    href: "#",
  }),
);
---

<SectionFull class:list={["bg-lightGray", className]}>
  <Container>
    <div class="flex flex-col lg:flex-row">
      <Heading level="2" class="lg:w-2/3">
        {title}
      </Heading>

      {
        linkHref && (
          <div class="mt-6 lg:mt-0 lg:w-1/3 lg:flex lg:items-center lg:justify-end">
            <Button type="link" variant="underlined" href={linkHref}>
              {linkTitle}
            </Button>
          </div>
        )
      }
    </div>
  </Container>

  <div class="mt-14 lg:mt-20">
    <ProjectsSlider client:only="react" items={fakeItems} />
  </div>
</SectionFull>
